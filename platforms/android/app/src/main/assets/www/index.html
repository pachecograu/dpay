<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <!--
  Customize this policy to fit your own app's needs. For more guidance, see:
      https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
  Some notes:
      * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
      * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
      * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
          * Enable inline JS: add 'unsafe-inline' to default-src
  -->
  <meta http-equiv="Content-Security-Policy" content="
           default-src 'self' *.googleapis.com data: gap:
               https://ssl.gstatic.com;
           script-src 'self' 'unsafe-inline' 'unsafe-eval'
               https://*.gstatic.com https://*.googleapis.com;
           style-src 'self' 'unsafe-inline';
           media-src *;
           connect-src *
       ">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#2196f3">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <title>My App</title>

  <link rel="stylesheet" href="framework7/css/framework7.bundle.min.css">
  <link rel="stylesheet" href="css/icons.css">
  <link rel="stylesheet" href="css/app.css">
</head>

<body class="theme-dark color-theme-white" ng-app="Dpay" ng-controller="masterCtrl">
  <div id="app">
    <!-- Status bar overlay for fullscreen mode-->
    <div class="statusbar"></div>
    <!-- Left panel with cover effect-->
    <!-- <div class="panel panel-left panel-cover theme-dark">
      <div class="view">
        <div class="page">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="title">Left Panel</div>
            </div>
          </div>
          <div class="page-content">
            <div class="block">Left panel content goes here</div>
          </div>
        </div>
      </div>
    </div> -->
    <!-- Right panel with reveal effect-->
    <div class="panel panel-right panel-reveal theme-dark">
      <div class="view">
        <div class="page">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="title">D'Pay</div>
              <div class="right">
                <a ui-sref="mi-cuenta" class="link icon-only" ng-if="rollSelected == 'Cliente'">
                  <i class="icon material-icons">build</i>
                </a>
              </div>
            </div>
          </div>
          <div class="page-content">
            <div class="block">
              <div class="list no-hairlines-md">
                <ul>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title">{{userLoged.email}}</div>
                      </div>
                      <div class="item-media"><i class="icon material-icons">account_circle</i></div>
                    </div>
                  </li>
                  <li class="item-divider" ng-if="rollSelected == 'Administrador'">Cuenta seleccionada</li>
                  <li class="item-content item-input" ng-if="rollSelected == 'Administrador'">
                    <div class="item-inner">
                      <div class="item-input-wrap input-dropdown-wrap">
                        <select ng-model="accountSelected" ng-change="changeAccount(accountSelected)"
                          placeholder="Selecciona una cuenta">
                          <option ng-repeat="account in userLoged.accounts.account track by $index" value="{{account}}">
                            {{account}}
                          </option>
                        </select>
                      </div>
                    </div>
                  </li>
                  <li class="item-divider" ng-if="rollSelected == 'Cliente'">Prestamista seleccionado</li>
                  <li class="item-content item-input" ng-if="rollSelected == 'Cliente'">
                    <div class="item-inner">
                      <div class="item-input-wrap input-dropdown-wrap">
                        <select ng-model="dpayAccountSelected" ng-change="changeAccount(dpayAccountSelected)"
                          placeholder="Selecciona una cuenta">
                          <option ng-repeat="account in userLoged.accounts.dpay_accounts track by $index"
                            value="{{account}}">
                            {{account}}
                          </option>
                        </select>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="list">
                <ul>
                  <li>
                    <a ui-sref="dashboard" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">home</i></div>
                      <div class="item-inner">
                        <div class="item-title">Inicio</div>
                      </div>
                    </a>
                  </li>
                  <li ng-if="rollSelected == 'Administrador'">
                    <a ui-sref="users" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">face</i></div>
                      <div class="item-inner">
                        <div class="item-title">Clientes</div>
                      </div>
                    </a>
                  </li>
                  <li ng-if="rollSelected == 'Administrador'">
                    <a ui-sref="prestamos" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">call_made</i></div>
                      <div class="item-inner">
                        <div class="item-title">Prestamos</div>
                      </div>
                    </a>
                  </li>
                  <li ng-if="rollSelected == 'Administrador'">
                    <a ui-sref="cobros" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">call_received</i></div>
                      <div class="item-inner">
                        <div class="item-title">Cobros</div>
                      </div>
                    </a>
                  </li>
                  <li ng-if="rollSelected == 'Administrador'">
                    <a ui-sref="egresos" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">redo</i></div>
                      <div class="item-inner">
                        <div class="item-title">Egresos</div>
                      </div>
                    </a>
                  </li>
                  <li ng-if="rollSelected == 'Administrador'">
                    <a ui-sref="ingresos" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">undo</i></div>
                      <div class="item-inner">
                        <div class="item-title">Ingresos</div>
                      </div>
                    </a>
                  </li>
                  <li ng-if="rollSelected == 'Cliente'">
                    <a ui-sref="mis-prestamos" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">chrome_reader_mode</i></div>
                      <div class="item-inner">
                        <div class="item-title">Mis prestamos {{accountSelected}}</div>
                      </div>
                    </a>
                  </li>
                  <!-- <li ng-if="rollSelected == 'Cliente'">
                    <a ui-sref="mis-pagos" class="item-link item-content">
                      <div class="item-media"><i class="icon material-icons">style</i></div>
                      <div class="item-inner">
                        <div class="item-title">Mis pagos</div>
                      </div>
                    </a>
                  </li> -->
                  <li>
                    <a class="item-link item-content" ng-click="signOut()">
                      <div class="item-media"><i class="icon material-icons">near_me</i></div>
                      <div class="item-inner">
                        <div class="item-title">Cerrar sesion</div>
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Your main view, should have "view-main" class -->
    <div class="view view-main safe-areas">
      <!-- Page, data-name contains page name which can be used in callbacks -->
      <div class="page" data-name="home">
        <!-- Toolbar-->
        <div class="toolbar toolbar-bottom">
          <div class="toolbar-inner">
            <div class="row" style="width: 100%;">
              <div class="col padding-left">
                <button class="col button button-small button-round button-fill text-color-black popover-open"
                  ng-if="userLoged.uid" data-popover=".popover-roll">
                  {{rollSelected}}
                  <i class="icon material-icons" style="float: right;">arrow_drop_up</i>
                </button>
              </div>
              <div class="col text-align-right padding-right">
                D'Pay
              </div>
            </div>
          </div>
        </div>
        <!-- Scrollable page content-->
        <ui-view>
        </ui-view>
      </div>
    </div>

    <div class="popover popover-roll">
      <div class="popover-inner">
        <div class="list">
          <ul>
            <li class="item-divider">SELECCIONA UN ROL:</li>
            <li><a class="list-button item-link popover-close" ng-click="SelectRoll('Cliente')">Cliente</a></li>
            <li><a class="list-button item-link popover-close" ng-click="SelectRoll('Administrador')"
                ng-hide="userLoged.accounts.account.length == 0">Administrador</a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="popover popover-viewUser" style="width: 80%;">
      <div class="popover-inner">
        <div class="block">
          <h3>Cliente {{userItemCobro.nombre}}</h3>
          <div class="row">
            <div class="col-100">CC. {{userItemCobro.identificacion}}</div>
          </div>
          <div class="row">
            <div class="col-100"><b>Dirección:</b> {{userItemCobro.direccion}}</div>
          </div>
          <div class="row">
            <div class="col-50">
              <div class="row">
                <div class="cell"><b>Telefonos</b></div>
              </div>
              <div class="row" ng-repeat="tel in userItemCobro.telefono">
                <div class="cell"><b>{{$index+1}}):</b> {{tel}}</div>
              </div>
            </div>
            <div class="col-50">
              <div class="row">
                <div class="cell"><b>Metodos de pago</b></div>
              </div>
              <div class="row" ng-repeat="fpago in userItemCobro.id_f_pago">
                <div class="cell">{{fpago.descripcion}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="popover popover-viewPrestamo" style="width: 80%;">
      <div class="popover-inner">
        <div class="block">
          <div class="row">
            <div class="col">
              <h3>Prestamo</h3>
            </div>
            <div class="col text-align-right padding-vertical">
              {{prestamoItemCobro.dateFrom}}
            </div>
          </div>
          <div class="row">
            <div class="col-100"><b>Fecha:</b> {{prestamoItemCobro.date}}</div>
          </div>
          <div class="row">
            <div class="col-50">
              <b>Valor: {{prestamoItemCobro.valor | currency:"$":0}}</b>
            </div>
            <div class="col-50 text-align-right">
              <b>Tiempo:</b> {{prestamoItemCobro.semanas}} Semanas
            </div>
            <div class="col-100" ng-if="!prestamoItemCobro.fijo">
              {{prestamoItemCobro.dateTrans}} Semanas transcurridas
            </div>
          </div>
        </div>
        <div class="card card-outline">
          <div class="card-header">Calculo rapido</div>
          <div class="card-content card-content-padding">
            <div class="row">
              <div class="col-50 text-align-right">
                Saldo:
              </div>
              <div class="col-50">
                {{prestamoItemCobro.valor | currency:"$":0}}
              </div>
              <div class="col-50 text-align-right">
                Semanas:
              </div>
              <div class="col-50">
                {{prestamoItemCobro.semPas}}
              </div>
              <div class="col-50 text-align-right">
                %/semanas:
              </div>
              <div class="col-50">
                {{prestamoItemCobro.semPas * 5}}%
              </div>
              <div class="col-50 text-align-right">
                Total:
              </div>
              <div class="col-50">
                {{prestamoItemCobro.valor + (prestamoItemCobro.valor  * ((prestamoItemCobro.semPas * 5) / 100)) | currency:"$":0}}
              </div>
              <div class="col-100">
                <hr>
              </div>
              <div class="col-50 text-align-right">
                X Dia:
              </div>
              <div class="col-50">
                {{((prestamoItemCobro.valor + (prestamoItemCobro.valor  * ((prestamoItemCobro.semPas * 5) / 100))) / prestamoItemCobro.semPas) / 6 | currency:"$":0}}
              </div>
              <div class="col-50 text-align-right">
                X Semana:
              </div>
              <div class="col-50">
                {{(prestamoItemCobro.valor + (prestamoItemCobro.valor  * ((prestamoItemCobro.semPas * 5) / 100))) / prestamoItemCobro.semPas | currency:"$":0}}
              </div>
              <div class="col-50 text-align-right" ng-if="prestamoItemCobro.semPas  > 1">
                X Quincena:
              </div>
              <div class="col-50" ng-if="prestamoItemCobro.semPas > 1">
                {{((prestamoItemCobro.valor + (prestamoItemCobro.valor  * ((prestamoItemCobro.semPas * 5) / 100))) / prestamoItemCobro.semPas) * 2 | currency:"$":0}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="popup" id="create-Email">
      <div class="view">
        <div class="page back-pages">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="right">
                <a class="link popup-close">
                  <i class="icon material-icons">close</i>
                </a>
              </div>
              <div class="title">D'Pay</div>
            </div>
          </div>
          <div class="page-content">
            <div class="block-title text-align-center">
              <h1>Resgistrate</h1>
            </div>
            <div class="block-title">Diligencia cada campo</div>
            <div class="list no-hairlines-md">
              <ul>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Correo electronico</div>
                    <div class="item-input-wrap">
                      <input type="text" ng-model="newEmail.email" placeholder="Tu E-mail">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Contraseña</div>
                    <div class="item-input-wrap">
                      <input type="password" ng-model="newEmail.password" placeholder="Tu Contraseña">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="block">
              <div class="row">
                <div class="col">
                  <button class="col button button-fill button-round text-color-black"
                    ng-click="saveEmail(newEmail)">Registrarme</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Popup -->
    <div class="popup" id="create-user">
      <div class="view">
        <div class="page back-pages">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="right">
                <a class="link popup-close">
                  <i class="icon material-icons">close</i>
                </a>
              </div>
              <div class="title">Nuevo cliente</div>
            </div>
          </div>
          <div class="subnavbar">
            <div class="subnavbar-inner">
              <div class="segmented segmented-raised">
                <a ng-repeat="tab in tabsUser track by $index" ng-click="tabChange(tab)"
                  class="button {{tab.class}}">{{tab.text}}</a>
              </div>
            </div>
          </div>
          <div class="page-content">
            <div class="tabs">
              <div class="tab {{tabSelected.classContent}}" ng-show="tabSelected.id == 1">
                <div class="block-title">Diligencia cada campo</div>
                <div class="list no-hairlines-md">
                  <ul>
                    <li class="item-content item-input item-input-outline">
                      <div class="item-inner">
                        <div class="item-title item-label">Nombres</div>
                        <div class="item-input-wrap">
                          <input type="text" ng-model="newUser.nombre" placeholder="Nombres completos">
                          <span class="input-clear-button"></span>
                        </div>
                      </div>
                    </li>
                    <li class="item-content item-input item-input-outline">
                      <div class="item-inner">
                        <div class="item-title item-label">Identificación</div>
                        <div class="item-input-wrap">
                          <input type="text" ng-model="newUser.identificacion"
                            placeholder="Numero de documento de identidad">
                          <span class="input-clear-button"></span>
                        </div>
                      </div>
                    </li>
                    <li class="item-content item-input item-input-outline">
                      <div class="item-inner">
                        <div class="item-title item-label">Dirección</div>
                        <div class="item-input-wrap">
                          <input type="text" ng-model="newUser.direccion" placeholder="Dirección de residencia">
                          <span class="input-clear-button"></span>
                        </div>
                      </div>
                    </li>
                    <li class="item-content item-input item-input-outline">
                      <div class="item-inner">
                        <div class="item-title item-label">Telefono / Celular</div>
                        <div class="item-input-wrap" ng-repeat="tel in newUser.telefono track by $index">
                          <input type="text" ng-model="newUser.telefono[$index]"
                            placeholder="Numero de Telefono/Celular">
                          <span class="input-clear-button"></span>
                        </div>
                      </div>
                      <div class="item-media" ng-click="addTelAndTp('tel')" style="align-self: initial;">
                        <i class="icon material-icons" style="font-size: 36px;">add_circle</i>
                      </div>
                    </li>
                    <li class="item-content item-input item-input-outline">
                      <div class="item-inner">
                        <div class="item-title item-label">Tipo de pagos</div>
                        <div class="item-input-wrap input-dropdown-wrap"
                          ng-repeat="tpago in newUser.id_f_pago track by $index">
                          <select ng-model="newUser.id_f_pago[$index].id"
                            ng-change="changeFp(newUser.id_f_pago[$index])" placeholder="Selecciona">
                            <option value="null">Seleccione</option>
                            <option value="{{fp.id}}" ng-repeat="fp in fpagos track by $index">{{fp.descripcion}}
                            </option>
                          </select>
                        </div>
                      </div>
                      <div class="item-media" ng-click="addTelAndTp('fpago')" style="align-self: initial;">
                        <i class="icon material-icons" style="font-size: 36px;">add_circle</i>
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="block">
                  <div class="row">
                    <div class="col">
                      <button class="col button button-fill button-round text-color-black"
                        ng-click="saveUser(newUser)">Guardar
                        cliente</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tabs">
              <div class="tab {{tabSelected.classContent}}" ng-show="tabSelected.id == 2">
                <div class="list">
                  <ul>
                    <li ng-repeat="user in clients track by $index" ng-if="!user.data.pertenece">
                      <div class="item-content">
                        <div class="item-inner item-cell">
                          <div class="item-row">
                            <div class="item-cell"><b>{{user.data.nombre}}</b>
                            </div>
                            <div class="item-cell text-align-right">
                              <label class="toggle toggle-init color-orange">
                                <input type="checkbox" ng-model="user.data.adding" ng-change="addingClient(user)">
                                <span class="toggle-icon"></span>
                              </label>
                            </div>
                          </div>
                          <div class="item-row">
                            <div class="item-cell"><b>Dirección:</b> {{user.data.direccion}}</div>
                            <div class="item-cell">CC. {{user.data.identificacion}}</div>
                          </div>
                          <div class="item-row">
                            <div class="item-cell">
                              <div class="item-row">
                                <div class="item-cell"><b>Telefonos</b></div>
                              </div>
                              <div class="item-row" ng-repeat="tel in user.data.telefono">
                                <div class="item-cell"><b>{{$index+1}}):</b> {{tel}}</div>
                              </div>
                            </div>
                            <div class="item-cell">
                              <div class="item-row">
                                <div class="item-cell"><b>Metodos de pago</b></div>
                              </div>
                              <div class="item-row" ng-repeat="fpago in user.data.id_f_pago">
                                <div class="item-cell">{{fpago.descripcion}}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="popup" id="edit-user">
      <div class="view">
        <div class="page back-pages">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="right">
                <a class="link popup-close">
                  <i class="icon material-icons">close</i>
                </a>
              </div>
              <div class="title">Editar cliente</div>
            </div>
          </div>
          <div class="page-content">
            <div class="block-title">Diligencia cada campo</div>
            <div class="list no-hairlines-md">
              <ul>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Nombres</div>
                    <div class="item-input-wrap">
                      <input type="text" ng-model="editUser.data.nombre" placeholder="Nombres completos">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Identificación</div>
                    <div class="item-input-wrap">
                      <input type="text" ng-model="editUser.data.identificacion"
                        placeholder="Numero de documento de identidad">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Dirección</div>
                    <div class="item-input-wrap">
                      <input type="text" ng-model="editUser.data.direccion" placeholder="Dirección de residencia">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Telefono / Celular</div>
                    <div class="item-input-wrap" ng-repeat="tel in editUser.data.telefono track by $index">
                      <input type="text" ng-model="editUser.data.telefono[$index]"
                        placeholder="Numero de Telefono/Celular">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                  <div class="item-media" ng-click="addTelAndTp('tel')" style="align-self: initial;">
                    <i class="icon material-icons" style="font-size: 36px;">add_circle</i>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Tipo de pagos</div>
                    <div class="item-input-wrap input-dropdown-wrap"
                      ng-repeat="tpago in editUser.data.id_f_pago track by $index">
                      <select ng-model="editUser.data.id_f_pago[$index].id"
                        ng-change="changeFp(editUser.data.id_f_pago[$index])" placeholder="Selecciona">
                        <option value="null">Seleccione</option>
                        <option value="{{fp.id}}" ng-repeat="fp in fpagos track by $index">{{fp.descripcion}}</option>
                      </select>
                    </div>
                  </div>
                  <div class="item-media" ng-click="addTelAndTp('fpago')" style="align-self: initial;">
                    <i class="icon material-icons" style="font-size: 36px;">add_circle</i>
                  </div>
                </li>
              </ul>
            </div>
            <div class="block">
              <div class="row">
                <div class="col">
                  <button class="col button button-fill button-round text-color-black"
                    ng-click="UpdateUser(editUser)">Actualizar
                    cliente</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="popup" id="create-prestamo">
      <div class="view">
        <div class="page back-pages">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="right">
                <a class="link popup-close">
                  <i class="icon material-icons">close</i>
                </a>
              </div>
              <div class="title">Nuevo prestamo</div>
            </div>
          </div>
          <div class="page-content">
            <div class="block-title">Diligencia cada campo</div>
            <div class="list no-hairlines-md">
              <ul>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <a class="link popover-open" data-popover=".popover-viewUser" ng-click="viewUser(paramUserId)"
                      style="text-decoration: underline">Ver
                      cliente</a>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Valor del prestamo</div>
                    <div class="item-input-wrap">
                      <input type="number" ng-model="newPrestamos.valor" placeholder="Valor del prestamo">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">
                      <div class="row">
                        <div class="col-70">
                          Numero de semanas
                        </div>
                        <div class="col-30 text-align-right padding-right">
                          5%
                        </div>
                      </div>
                    </div>
                    <div class="item-input-wrap">
                      <input type="number" ng-model="newPrestamos.semanas" placeholder="Numero de semanas">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content">
                  <div class="item-inner">
                    <div class="item-title item-label">
                      <div class="row">
                        <div class="col-70">
                          Tiempo fijo
                        </div>
                        <div class="col-30 text-align-right padding">
                          <label class="toggle toggle-init color-orange">
                            <input type="checkbox" ng-model="newPrestamos.fijo">
                            <span class="toggle-icon"></span>
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Selecciona la fecha</div>
                    <div class="item-input-wrap">
                      <input type="datetime-local" ng-model="newPrestamos.fecha" style="max-width: 100%;">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="block">
              <div class="card card-outline">
                <div class="card-header">Calculo rapido</div>
                <div class="card-content card-content-padding">
                  <div class="row">
                    <div class="col-50 text-align-right">
                      Saldo:
                    </div>
                    <div class="col-50">
                      {{newPrestamos.valor | currency:"$":0}}
                    </div>
                    <div class="col-50 text-align-right">
                      Semanas:
                    </div>
                    <div class="col-50">
                      {{newPrestamos.semanas}}
                    </div>
                    <div class="col-50 text-align-right">
                      %/semanas:
                    </div>
                    <div class="col-50">
                      {{newPrestamos.semanas * 5}}%
                    </div>
                    <div class="col-50 text-align-right">
                      Total:
                    </div>
                    <div class="col-50">
                      {{newPrestamos.valor + (newPrestamos.valor  * ((newPrestamos.semanas * 5) / 100)) | currency:"$":0}}
                    </div>
                    <div class="col-100">
                      <hr>
                    </div>
                    <div class="col-50 text-align-right">
                      X Dia:
                    </div>
                    <div class="col-50">
                      {{((newPrestamos.valor + (newPrestamos.valor  * ((newPrestamos.semanas * 5) / 100))) / newPrestamos.semanas) / 6 | currency:"$":0}}
                    </div>
                    <div class="col-50 text-align-right">
                      X Semana:
                    </div>
                    <div class="col-50">
                      {{(newPrestamos.valor + (newPrestamos.valor  * ((newPrestamos.semanas * 5) / 100))) / newPrestamos.semanas | currency:"$":0}}
                    </div>
                    <div class="col-50 text-align-right" ng-if="newPrestamos.semanas  > 1">
                      X Quincena:
                    </div>
                    <div class="col-50" ng-if="newPrestamos.semanas > 1">
                      {{((newPrestamos.valor + (newPrestamos.valor  * ((newPrestamos.semanas * 5) / 100))) / newPrestamos.semanas) * 2 | currency:"$":0}}
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <button class="col button button-fill button-round text-color-black"
                    ng-click="savePrestamo(newPrestamos)">
                    Guardar
                    Prestamo
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="popup" id="create-cobro">
      <div class="view">
        <div class="page back-pages">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="right">
                <a class="link popup-close">
                  <i class="icon material-icons">close</i>
                </a>
              </div>
              <div class="title">Nuevo cobro</div>
            </div>
          </div>
          <div class="page-content">
            <div class="block-title">Diligencia cada campo</div>
            <div class="list no-hairlines-md">
              <ul>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="row" style="width: 100%;">
                      <div class="col-50">
                        <a class="link popover-open" data-popover=".popover-viewUser" ng-click="viewUser(params.idUser)"
                          style="text-decoration: underline">Ver
                          cliente</a>
                      </div>
                      <div class="col-50 text-align-right">
                        <a class="link popover-open" data-popover=".popover-viewPrestamo"
                          ng-click="viewPrestamo(params.idPrtm)" style="text-decoration: underline">Detalles de
                          prestamo</a>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Valor del abono</div>
                    <div class="item-input-wrap">
                      <input type="number" ng-model="newCobros.abono" placeholder="Valor del abono">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Selecciona la fecha</div>
                    <div class="item-input-wrap">
                      <input type="datetime-local" ng-model="newCobros.fecha" style="max-width: 100%;">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="block">
              <div class="row">
                <div class="col">
                  <button class="col button button-fill button-round text-color-black" ng-click="saveCobro(newCobros)">
                    Guardar
                    Cobro
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="popup" id="create-egreso">
      <div class="view">
        <div class="page back-pages">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="right">
                <a class="link popup-close">
                  <i class="icon material-icons">close</i>
                </a>
              </div>
              <div class="title">Nuevo egreso</div>
            </div>
          </div>
          <div class="page-content">
            <div class="block-title">Diligencia cada campo</div>
            <div class="list no-hairlines-md">
              <ul>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Valor del egreso</div>
                    <div class="item-input-wrap">
                      <input type="number" ng-model="newEgresos.valor" placeholder="Valor del egreso">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Selecciona la fecha</div>
                    <div class="item-input-wrap">
                      <input type="datetime-local" ng-model="newEgresos.fecha" style="max-width: 100%;">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Descripción</div>
                    <div class="item-input-wrap">
                      <textarea class="resizable" ng-model="newEgresos.descripcion"
                        placeholder="Razón de egreso"></textarea>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="block">
              <div class="row">
                <div class="col">
                  <button class="col button button-fill button-round text-color-black"
                    ng-click="saveEgreso(newEgresos)">
                    Guardar
                    Egreso
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="popup" id="create-ingreso">
      <div class="view">
        <div class="page back-pages">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="right">
                <a class="link popup-close">
                  <i class="icon material-icons">close</i>
                </a>
              </div>
              <div class="title">Nuevo ingreso</div>
            </div>
          </div>
          <div class="page-content">
            <div class="block-title">Diligencia cada campo</div>
            <div class="list no-hairlines-md">
              <ul>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Valor del ingreso</div>
                    <div class="item-input-wrap">
                      <input type="number" ng-model="newIngresos.valor" placeholder="Valor del egreso">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Selecciona la fecha</div>
                    <div class="item-input-wrap">
                      <input type="datetime-local" ng-model="newIngresos.fecha" style="max-width: 100%;">
                      <span class="input-clear-button"></span>
                    </div>
                  </div>
                </li>
                <li class="item-content item-input item-input-outline">
                  <div class="item-inner">
                    <div class="item-title item-label">Descripción</div>
                    <div class="item-input-wrap">
                      <textarea class="resizable" ng-model="newIngresos.descripcion"
                        placeholder="Razón de ingreso"></textarea>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <div class="block">
              <div class="row">
                <div class="col">
                  <button class="col button button-fill button-round text-color-black"
                    ng-click="saveIngreso(newIngresos)">
                    Guardar
                    Ingreso
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!-- Cordova -->

  <script src="cordova.js"></script>


  <!-- Framework7 library -->
  <script src="framework7/js/framework7.bundle.min.js"></script>
  <!-- angular js -->
  <script src="bower_components/angular/angular.min.js" charset="utf-8"></script>
  <script src="bower_components/angular-ui-router/release/angular-ui-router.min.js" charset="utf-8"></script>
  <script src="https://www.gstatic.com/firebasejs/6.5.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-firestore.js"></script>
  <script src="js/plugins/moment.min.js"></script>
  <script src="js/plugins/es.js"></script>

  <!-- Your custom app scripts -->
  <script src="js/config/app.js"></script>
  <!-- App routes -->
  <script src="js/config/routes.js"></script>
  <!-- controllers -->
  <script src="js/controllers/masterCtrl.js" charset="utf-8"></script>
  <script src="js/controllers/loginCtrl.js" charset="utf-8"></script>
  <script src="js/controllers/dashboardCtrl.js" charset="utf-8"></script>
  <script src="js/controllers/micuentaCtrl.js" charset="utf-8"></script>
  <!-- Administrador -->
  <script src="js/controllers/usersCtrl.js" charset="utf-8"></script>
  <script src="js/controllers/cobrosCtrl.js" charset="utf-8"></script>
  <script src="js/controllers/prestamosCtrl.js" charset="utf-8"></script>
  <script src="js/controllers/ptrmOnPrflCtrl.js" charset="utf-8"></script>
  <script src="js/controllers/cbrInPrtmCtrl.js"></script>
  <script src="js/controllers/egresosCtrl.js"></script>
  <script src="js/controllers/ingresosCtrl.js"></script>
  <!-- Clientes -->
  <script src="js/controllers/misprestamosCtrl.js"></script>
  <script src="js/controllers/cbrbyPrtmClientCtrl.js"></script>
</body>

</html>